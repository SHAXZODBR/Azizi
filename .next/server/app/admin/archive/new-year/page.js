(()=>{var e={};e.id=508,e.ids=[508],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3873:e=>{"use strict";e.exports=require("path")},9551:e=>{"use strict";e.exports=require("url")},1437:(e,a,r)=>{"use strict";r.r(a),r.d(a,{GlobalError:()=>s.a,__next_app__:()=>u,pages:()=>c,routeModule:()=>b,tree:()=>l});var t=r(260),i=r(8203),n=r(5155),s=r.n(n),d=r(7292),o={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>d[e]);r.d(a,o);let l=["",{children:["admin",{children:["archive",{children:["new-year",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,3636)),"/home/shaxzodbr/Desktop/Azizi/Azizi/app/admin/archive/new-year/page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,638)),"/home/shaxzodbr/Desktop/Azizi/Azizi/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/home/shaxzodbr/Desktop/Azizi/Azizi/app/admin/archive/new-year/page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},b=new t.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/admin/archive/new-year/page",pathname:"/admin/archive/new-year",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4748:(e,a,r)=>{"use strict";r.r(a),r.d(a,{"0001d7ef38a99125a253a4498c6335a44ada40af3c":()=>t.Ht,"0061a62c662b99e5e74588b40eb5e22a2ab9642e7f":()=>t.ri,"4024106edc32fef040459cbb010dd1291fef996fad":()=>i.Wc,"405a4e59d078c079e8860abb349743f9a4b2892f39":()=>i.rx,"407e71705483824f457627136b7a8c27fd7b46888e":()=>t.iD,"4094af120aa43bbbabaf5cefc6a2179a64a02707c2":()=>i.iZ,"40b495e5adfa59f686b496fb1ba48ab0757bc39210":()=>i.tt,"40df380db1c0a2bdbee99f3a214b6ad62addfe45e0":()=>i.Ko,"40e56b8073617e7f366272b63b24b7ed2086d8dc71":()=>i.N6,"40f8c244340ade15eee8c217d8cbe7e76068a9fff6":()=>t.kz,"60b774b261aa64beb18232e5e2516656ec4597d9ac":()=>i.a});var t=r(393),i=r(7513)},4064:(e,a,r)=>{Promise.resolve().then(r.bind(r,2591)),Promise.resolve().then(r.t.bind(r,9607,23))},3792:(e,a,r)=>{Promise.resolve().then(r.bind(r,80)),Promise.resolve().then(r.t.bind(r,8531,23))},80:(e,a,r)=>{"use strict";r.d(a,{Label:()=>s});var t=r(5512);r(8009);var i=r(2405),n=r(9462);function s({className:e,...a}){return(0,t.jsx)(i.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}},9462:(e,a,r)=>{"use strict";r.d(a,{cn:()=>n});var t=r(2281),i=r(4805);function n(...e){return(0,i.QP)((0,t.$)(e))}},7513:(e,a,r)=>{"use strict";r.d(a,{Ko:()=>d,N6:()=>u,Wc:()=>c,a:()=>m,iZ:()=>b,rx:()=>l,tt:()=>o});var t=r(8977);r(8063);var i=r(1482),n=r(1831),s=r(393);async function d(e){let a=await (0,s.Ht)();a&&"admin"===a.role||(0,n.redirect)("/login");let r=Number.parseInt(e.get("year"));console.log("Creating issue:",{year:r,month:Number.parseInt(e.get("month")),number:Number.parseInt(e.get("number")),status:e.get("status")}),(0,i.revalidatePath)("/archive"),(0,i.revalidatePath)("/admin/archive"),(0,n.redirect)("/admin/archive")}async function o(e){let a=await (0,s.Ht)();a&&"admin"===a.role||(0,n.redirect)("/login");let r=e.get("id"),t=Number.parseInt(e.get("year")),d=Number.parseInt(e.get("month")),o=Number.parseInt(e.get("number")),l=e.get("status");e.get("pdf"),console.log("Updating issue:",{id:r,year:t,month:d,number:o,status:l}),(0,i.revalidatePath)("/archive"),(0,i.revalidatePath)(`/archive/${r}`),(0,i.revalidatePath)("/admin/archive"),(0,n.redirect)("/admin/archive")}async function l(e){let a=await (0,s.Ht)();a&&"admin"===a.role||(0,n.redirect)("/login"),console.log("Deleting issue:",e),(0,i.revalidatePath)("/archive"),(0,i.revalidatePath)("/admin/archive"),(0,n.redirect)("/admin/archive")}async function c(e){let a=await (0,s.Ht)();a&&"admin"===a.role||(0,n.redirect)("/login"),console.log("Creating year:",Number.parseInt(e.get("year"))),(0,i.revalidatePath)("/archive"),(0,i.revalidatePath)("/admin/archive"),(0,n.redirect)("/admin/archive")}async function u(e){let a=await (0,s.Ht)();a&&"admin"===a.role||(0,n.redirect)("/login");let r=e.get("issueId"),t=e.get("category"),d=e.get("authors"),o=e.get("title"),l=e.get("pages"),c=Number.parseInt(e.get("articleNumber"));e.get("pdf"),console.log("Creating article:",{issueId:r,category:t,authors:d,title:o,pages:l,articleNumber:c}),(0,i.revalidatePath)(`/archive/${r}`),(0,n.redirect)(`/archive/${r}`)}async function b(e){let a=await (0,s.Ht)();a&&"admin"===a.role||(0,n.redirect)("/login");let r=e.get("issueId"),t=e.get("articleId"),d=e.get("category"),o=e.get("authors"),l=e.get("title"),c=e.get("pages"),u=Number.parseInt(e.get("articleNumber"));e.get("pdf"),console.log("Updating article:",{issueId:r,articleId:t,category:d,authors:o,title:l,pages:c,articleNumber:u}),(0,i.revalidatePath)(`/archive/${r}`),(0,n.redirect)(`/archive/${r}`)}async function m(e,a){let r=await (0,s.Ht)();r&&"admin"===r.role||(0,n.redirect)("/login"),console.log("Deleting article:",{issueId:e,articleId:a}),(0,i.revalidatePath)(`/archive/${e}`),(0,n.redirect)(`/archive/${e}`)}(0,r(6215).D)([d,o,l,c,u,b,m]),(0,t.A)(d,"40df380db1c0a2bdbee99f3a214b6ad62addfe45e0",null),(0,t.A)(o,"40b495e5adfa59f686b496fb1ba48ab0757bc39210",null),(0,t.A)(l,"405a4e59d078c079e8860abb349743f9a4b2892f39",null),(0,t.A)(c,"4024106edc32fef040459cbb010dd1291fef996fad",null),(0,t.A)(u,"40e56b8073617e7f366272b63b24b7ed2086d8dc71",null),(0,t.A)(b,"4094af120aa43bbbabaf5cefc6a2179a64a02707c2",null),(0,t.A)(m,"60b774b261aa64beb18232e5e2516656ec4597d9ac",null)},393:(e,a,r)=>{"use strict";r.d(a,{Ht:()=>u,iD:()=>o,kz:()=>l,ri:()=>c});var t=r(8977);r(8063);var i=r(4512),n=r(1831),s=r(6215);let d=[{id:1,name:"Admin User",email:"admin@example.com",password:"admin123",role:"admin"},{id:2,name:"Regular User",email:"user@example.com",password:"user123",role:"user"}];async function o(e){let a=e.get("email"),r=e.get("password"),t=d.find(e=>e.email===a&&e.password===r);if(!t){console.error("Invalid credentials");return}let s={userId:t.id,name:t.name,email:t.email,role:t.role,expires:new Date(Date.now()+6048e5)};(0,i.UL)().set("session",JSON.stringify(s),{httpOnly:!0,secure:!0,maxAge:604800,path:"/"}),"admin"===t.role?(0,n.redirect)("/admin/archive"):(0,n.redirect)("/archive")}async function l(e){e.get("name"),e.get("email"),e.get("password"),e.get("role"),(0,n.redirect)("/login")}async function c(){(0,i.UL)().delete("session"),(0,n.redirect)("/login")}async function u(){let e=i.UL().get("session")?.value;return e?JSON.parse(e):null}(0,s.D)([o,l,c,u]),(0,t.A)(o,"407e71705483824f457627136b7a8c27fd7b46888e",null),(0,t.A)(l,"40f8c244340ade15eee8c217d8cbe7e76068a9fff6",null),(0,t.A)(c,"0061a62c662b99e5e74588b40eb5e22a2ab9642e7f",null),(0,t.A)(u,"0001d7ef38a99125a253a4498c6335a44ada40af3c",null)},3636:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>b});var t=r(2740),i=r(9607),n=r.n(i),s=r(393),d=r(7513),o=r(1831),l=r(8537),c=r(3205),u=r(2591);async function b(){let e=await (0,s.Ht)();return e&&"admin"===e.role||(0,o.redirect)("/login"),(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)("header",{className:"border-b",children:(0,t.jsxs)("div",{className:"container flex h-16 items-center justify-between",children:[(0,t.jsx)("div",{className:"text-xl font-bold",children:"Панель администратора"}),(0,t.jsx)("nav",{className:"flex gap-4",children:(0,t.jsx)(n(),{href:"/admin/archive",children:(0,t.jsx)("button",{className:"px-4 py-2 border rounded",children:"Назад к архиву"})})})]})}),(0,t.jsxs)("div",{className:"container py-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Добавить новый год"}),(0,t.jsx)("div",{className:"max-w-md mx-auto",children:(0,t.jsxs)("form",{action:d.Wc,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(u.Label,{htmlFor:"year",children:"Год"}),(0,t.jsx)(c.p,{id:"year",name:"year",type:"number",defaultValue:new Date().getFullYear()+1,required:!0})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,t.jsx)(n(),{href:"/admin/archive",children:(0,t.jsx)(l.$,{variant:"outline",children:"Отмена"})}),(0,t.jsx)(l.$,{type:"submit",children:"Создать год"})]})]})})]})]})}},8537:(e,a,r)=>{"use strict";r.d(a,{$:()=>o});var t=r(2740);r(6301);var i=r(7606),n=r(7699),s=r(5946);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40",outline:"border border-input bg-background shadow-xs hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o({className:e,variant:a,size:r,asChild:n=!1,...o}){let l=n?i.DX:"button";return(0,t.jsx)(l,{"data-slot":"button",className:(0,s.cn)(d({variant:a,size:r,className:e})),...o})}},3205:(e,a,r)=>{"use strict";r.d(a,{p:()=>n});var t=r(2740);r(6301);var i=r(5946);function n({className:e,type:a,...r}){return(0,t.jsx)("input",{type:a,"data-slot":"input",className:(0,i.cn)("border-input file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}},2591:(e,a,r)=>{"use strict";r.d(a,{Label:()=>t});let t=(0,r(6760).registerClientReference)(function(){throw Error("Attempted to call Label() from the server but Label is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/shaxzodbr/Desktop/Azizi/Azizi/components/ui/label.tsx","Label")},5946:(e,a,r)=>{"use strict";r.d(a,{cn:()=>n});var t=r(3673),i=r(7317);function n(...e){return(0,i.QP)((0,t.$)(e))}},6055:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>i});var t=r(8077);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,t.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var a=require("../../../../webpack-runtime.js");a.C(e);var r=e=>a(a.s=e),t=a.X(0,[638,348,607,77,391,512,16,841,482,854],()=>r(1437));module.exports=t})();